# ðŸ’œ Conselheiro Amoroso - Sistema de Aconselhamento PÃ³s-Pagamento

## ðŸ“‹ VisÃ£o Geral

ApÃ³s o usuÃ¡rio pagar R$ 4,90 para ver o resultado, ele Ã© apresentado a uma **pÃ¡gina de resultado completa** com diagnÃ³stico detalhado e um **upsell para o "Conselheiro Amoroso"** (R$ 14,90/mÃªs).

Se o usuÃ¡rio assinar, ele recebe:
1. **Resultado Completo Desbloqueado** - DiagnÃ³stico profundo com plano de aÃ§Ã£o
2. **Dicas DiÃ¡rias Personalizadas** - Baseadas no seu resultado
3. **Acompanhamento ContÃ­nuo** - EvoluÃ§Ã£o da situaÃ§Ã£o amorosa
4. **Suporte Emocional** - OrientaÃ§Ã£o especializada

---

## ðŸŽ¯ Fluxo PÃ³s-Pagamento

### Fase 1: Resultado Pago (R$ 4,90)

**O que o usuÃ¡rio vÃª:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SEU RESULTADO: PaixÃ£o RecÃ­proca ðŸ†    â”‚
â”‚   Score: 87/100                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  âœ¨ HÃ¡ sinais MUITO positivos!         â”‚
â”‚                                         â”‚
â”‚  Ele(a) demonstra interesse genuÃ­no    â”‚
â”‚  atravÃ©s de aÃ§Ãµes concretas.           â”‚
â”‚                                         â”‚
â”‚  ðŸ“Š AnÃ¡lise Detalhada:                 â”‚
â”‚  â€¢ ComunicaÃ§Ã£o: 95/100                 â”‚
â”‚  â€¢ Comportamento: 85/100               â”‚
â”‚  â€¢ Interesse: 90/100                   â”‚
â”‚  â€¢ Sinais FÃ­sicos: 75/100              â”‚
â”‚                                         â”‚
â”‚  ðŸŽ¯ Plano de AÃ§Ã£o:                     â”‚
â”‚  1. Consolidar a conexÃ£o emocional     â”‚
â”‚  2. Criar momentos de intimidade       â”‚
â”‚  3. Expressar seus sentimentos         â”‚
â”‚  4. Planejar futuro juntos             â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Compartilhar]  [Conselheiro Amoroso] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Fase 2: Upsell Conselheiro Amoroso (R$ 14,90/mÃªs)

**Mensagem Personalizada por Resultado:**

| Resultado | Mensagem |
|-----------|----------|
| ðŸ† PaixÃ£o RecÃ­proca | "ParabÃ©ns! HÃ¡ sinais positivos. Agora aprenda como **consolidar essa conexÃ£o** com nosso Conselheiro Amoroso." |
| ðŸ’œ Interesse GenuÃ­no | "Ã“timo! HÃ¡ sinais promissores. Descubra como **aprofundar essa conexÃ£o** com orientaÃ§Ã£o especializada." |
| ðŸ¤” Sinais Mistos | "HÃ¡ dÃºvidas, mas hÃ¡ esperanÃ§a! Receba **dicas diÃ¡rias** para navegar essa situaÃ§Ã£o com confianÃ§a." |
| ðŸ˜” Sem Interesse | "Entendemos que Ã© difÃ­cil. Receba **suporte emocional** e aprenda a lidar com essa situaÃ§Ã£o." |

**CTA Personalizado:**
- PaixÃ£o RecÃ­proca â†’ "Consolidar Agora"
- Interesse GenuÃ­no â†’ "Aprofundar ConexÃ£o"
- Sinais Mistos â†’ "Receber OrientaÃ§Ã£o"
- Sem Interesse â†’ "Receber Suporte"

---

## ðŸ“± PÃ¡gina de Resultado Completo

### Estrutura da PÃ¡gina (ApÃ³s Pagamento)

```
1. HEADER
   â””â”€ Resultado do Quiz
   â””â”€ Score Visual (0-100)
   â””â”€ Emoji & Cor TemÃ¡tica

2. DIAGNÃ“STICO PRINCIPAL
   â””â”€ DescriÃ§Ã£o do resultado
   â””â”€ AnÃ¡lise por categoria
   â””â”€ GrÃ¡fico de scores

3. PLANO DE AÃ‡ÃƒO
   â””â”€ 4-5 passos especÃ­ficos
   â””â”€ Dicas acionÃ¡veis
   â””â”€ Timeline sugerida

4. DEPOIMENTOS
   â””â”€ HistÃ³rias de sucesso
   â””â”€ TransformaÃ§Ãµes reais

5. UPSELL CONSELHEIRO
   â””â”€ BenefÃ­cios da assinatura
   â””â”€ PreÃ§o (R$ 14,90/mÃªs)
   â””â”€ BotÃ£o CTA personalizado

6. FOOTER
   â””â”€ Compartilhar resultado
   â””â”€ Voltar para home
```

---

## ðŸŽ BenefÃ­cios do Conselheiro Amoroso

### O que estÃ¡ incluÃ­do na assinatura (R$ 14,90/mÃªs)

#### 1. **Dicas DiÃ¡rias Personalizadas** ðŸ“§
Cada dia, o usuÃ¡rio recebe um email com:
- Dica especÃ­fica para sua situaÃ§Ã£o
- AÃ§Ã£o concreta para o dia
- ReflexÃ£o emocional
- MotivaÃ§Ã£o

**Exemplo de Email:**
```
Assunto: Sua Dica DiÃ¡ria - Dia 5 do Conselheiro Amoroso

OlÃ¡ Maria! ðŸ’œ

Hoje sua dica Ã© sobre COMUNICAÃ‡ÃƒO AUTÃŠNTICA.

ðŸŽ¯ AÃ§Ã£o do Dia:
Envie uma mensagem genuÃ­na (nÃ£o planejada) para ele(a).
Algo que reflita realmente o que vocÃª sente.

ðŸ’­ ReflexÃ£o:
A autenticidade Ã© o que mais atrai as pessoas.
Quando vocÃª se mostra real, cria espaÃ§o para conexÃ£o verdadeira.

âœ¨ MotivaÃ§Ã£o:
VocÃª estÃ¡ no caminho certo. Continue assim!

---
Seu Conselheiro Amoroso ðŸ’œ
```

#### 2. **Plano de AÃ§Ã£o Estruturado** ðŸ“‹
- **Semana 1**: ConsolidaÃ§Ã£o emocional
- **Semana 2**: Aprofundamento de conexÃ£o
- **Semana 3**: ExpressÃ£o de sentimentos
- **Semana 4**: Planejamento do futuro

#### 3. **Acompanhamento ContÃ­nuo** ðŸ“Š
- Dashboard com evoluÃ§Ã£o da situaÃ§Ã£o
- HistÃ³rico de dicas recebidas
- Progresso do plano de aÃ§Ã£o
- ReflexÃµes do usuÃ¡rio

#### 4. **Suporte Emocional** ðŸ’¬
- Chat com especialista (futuro)
- Comunidade de usuÃ¡rios
- FÃ³rum de discussÃ£o
- Recursos de autoajuda

#### 5. **Recursos Premium** ðŸŽ
- Guias em PDF
- VÃ­deos de orientaÃ§Ã£o
- MeditaÃ§Ãµes guiadas
- Templates de mensagens

---

## ðŸ—„ï¸ Banco de Dados - Estrutura

### Tabela: `subscriptions`
```sql
CREATE TABLE subscriptions (
  id INT PRIMARY KEY AUTO_INCREMENT,
  userId INT NOT NULL,
  status ENUM('active', 'canceled', 'expired') DEFAULT 'active',
  stripeSubscriptionId VARCHAR(255) UNIQUE,
  resultLevel VARCHAR(50),  -- paixao_reciproca, sinais_positivos, etc
  startDate TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  endDate TIMESTAMP,
  canceledAt TIMESTAMP,
  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (userId) REFERENCES users(id)
);
```

### Tabela: `daily_tips`
```sql
CREATE TABLE daily_tips (
  id INT PRIMARY KEY AUTO_INCREMENT,
  subscriptionId INT NOT NULL,
  dayNumber INT,  -- 1-30 (ciclo mensal)
  category VARCHAR(50),  -- comunicacao, comportamento, emocoes, etc
  title VARCHAR(255),
  content TEXT,
  actionOfDay TEXT,
  reflection TEXT,
  motivation TEXT,
  sentAt TIMESTAMP,
  readAt TIMESTAMP,
  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (subscriptionId) REFERENCES subscriptions(id)
);
```

### Tabela: `user_progress`
```sql
CREATE TABLE user_progress (
  id INT PRIMARY KEY AUTO_INCREMENT,
  subscriptionId INT NOT NULL,
  dayNumber INT,
  situationUpdate TEXT,  -- O que mudou na situaÃ§Ã£o
  emotionalState VARCHAR(50),  -- melhorando, estÃ¡vel, piorando
  actionsTaken TEXT,  -- AÃ§Ãµes que o usuÃ¡rio tomou
  notes TEXT,  -- Notas do usuÃ¡rio
  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (subscriptionId) REFERENCES subscriptions(id)
);
```

---

## ðŸ”§ ImplementaÃ§Ã£o TÃ©cnica

### Backend - tRPC Procedures

```typescript
// server/routers.ts

subscription: router({
  // Criar assinatura apÃ³s pagamento
  createSubscription: protectedProcedure
    .input(z.object({
      stripeSubscriptionId: z.string(),
      resultLevel: z.string(),
    }))
    .mutation(async ({ ctx, input }) => {
      const subscription = await db.createSubscription({
        userId: ctx.user.id,
        stripeSubscriptionId: input.stripeSubscriptionId,
        resultLevel: input.resultLevel,
      });
      
      // Gerar dicas para os prÃ³ximos 30 dias
      await generateDailyTips(subscription.id, input.resultLevel);
      
      return subscription;
    }),

  // Obter dica do dia
  getTodaysTip: protectedProcedure
    .query(async ({ ctx }) => {
      const subscription = await db.getActiveSubscription(ctx.user.id);
      if (!subscription) return null;
      
      const dayNumber = calculateDayNumber(subscription.startDate);
      return db.getDailyTip(subscription.id, dayNumber);
    }),

  // Obter progresso do usuÃ¡rio
  getProgress: protectedProcedure
    .query(async ({ ctx }) => {
      const subscription = await db.getActiveSubscription(ctx.user.id);
      if (!subscription) return null;
      
      return db.getUserProgress(subscription.id);
    }),

  // Atualizar progresso
  updateProgress: protectedProcedure
    .input(z.object({
      situationUpdate: z.string(),
      emotionalState: z.enum(['melhorando', 'estÃ¡vel', 'piorando']),
      actionsTaken: z.string().optional(),
    }))
    .mutation(async ({ ctx, input }) => {
      const subscription = await db.getActiveSubscription(ctx.user.id);
      if (!subscription) throw new Error('No active subscription');
      
      return db.createProgress({
        subscriptionId: subscription.id,
        ...input,
      });
    }),

  // Cancelar assinatura
  cancelSubscription: protectedProcedure
    .mutation(async ({ ctx }) => {
      const subscription = await db.getActiveSubscription(ctx.user.id);
      if (!subscription) throw new Error('No active subscription');
      
      // Cancelar no Stripe
      await stripe.subscriptions.del(subscription.stripeSubscriptionId);
      
      // Atualizar no banco
      return db.updateSubscription(subscription.id, {
        status: 'canceled',
        canceledAt: new Date(),
      });
    }),
}),
```

### Frontend - Dashboard do Conselheiro

```typescript
// client/src/pages/AdvisorDashboard.tsx

export default function AdvisorDashboard() {
  const { data: subscription } = trpc.subscription.getSubscription.useQuery();
  const { data: todaysTip } = trpc.subscription.getTodaysTip.useQuery();
  const { data: progress } = trpc.subscription.getProgress.useQuery();
  
  if (!subscription) {
    return <div>Nenhuma assinatura ativa</div>;
  }

  const dayNumber = calculateDayNumber(subscription.startDate);
  const progressPercentage = (dayNumber / 30) * 100;

  return (
    <div className="min-h-screen bg-gradient-to-br from-pink-50 to-purple-50 py-8">
      <div className="container mx-auto px-4">
        
        {/* Header */}
        <div className="text-center mb-8">
          <h1 className="text-4xl font-bold text-purple-900 mb-2">
            Seu Conselheiro Amoroso ðŸ’œ
          </h1>
          <p className="text-gray-600">
            Dia {dayNumber} de 30 - Sua jornada de transformaÃ§Ã£o
          </p>
        </div>

        {/* Progress Bar */}
        <div className="mb-8">
          <div className="bg-gray-200 rounded-full h-4">
            <div
              className="bg-gradient-to-r from-pink-500 to-purple-500 h-4 rounded-full"
              style={{ width: `${progressPercentage}%` }}
            />
          </div>
          <p className="text-center mt-2 text-sm text-gray-600">
            {Math.round(progressPercentage)}% completo
          </p>
        </div>

        {/* Today's Tip */}
        {todaysTip && (
          <Card className="mb-8 p-6 border-2 border-purple-200">
            <h2 className="text-2xl font-bold text-purple-900 mb-4">
              âœ¨ Sua Dica de Hoje
            </h2>
            <h3 className="text-xl font-semibold text-purple-700 mb-2">
              {todaysTip.title}
            </h3>
            <p className="text-gray-700 mb-4">{todaysTip.content}</p>
            
            <div className="bg-pink-50 p-4 rounded-lg mb-4">
              <p className="font-semibold text-pink-900 mb-2">ðŸŽ¯ AÃ§Ã£o do Dia:</p>
              <p className="text-pink-800">{todaysTip.actionOfDay}</p>
            </div>

            <div className="bg-blue-50 p-4 rounded-lg mb-4">
              <p className="font-semibold text-blue-900 mb-2">ðŸ’­ ReflexÃ£o:</p>
              <p className="text-blue-800">{todaysTip.reflection}</p>
            </div>

            <div className="bg-yellow-50 p-4 rounded-lg">
              <p className="font-semibold text-yellow-900 mb-2">âœ¨ MotivaÃ§Ã£o:</p>
              <p className="text-yellow-800">{todaysTip.motivation}</p>
            </div>
          </Card>
        )}

        {/* Progress Updates */}
        <Card className="p-6 border-2 border-purple-200">
          <h2 className="text-2xl font-bold text-purple-900 mb-4">
            ðŸ“Š Seu Progresso
          </h2>
          
          {progress && progress.length > 0 ? (
            <div className="space-y-4">
              {progress.map((p, idx) => (
                <div key={idx} className="border-l-4 border-purple-500 pl-4 py-2">
                  <p className="text-sm text-gray-500">
                    {new Date(p.createdAt).toLocaleDateString('pt-BR')}
                  </p>
                  <p className="text-gray-700">{p.situationUpdate}</p>
                  <p className="text-sm mt-2">
                    Estado emocional: <span className="font-semibold">{p.emotionalState}</span>
                  </p>
                </div>
              ))}
            </div>
          ) : (
            <p className="text-gray-600">
              Comece a registrar seu progresso para acompanhar sua jornada!
            </p>
          )}

          <Button className="mt-6 w-full">
            Registrar Progresso de Hoje
          </Button>
        </Card>
      </div>
    </div>
  );
}
```

---

## ðŸ“§ Sistema de Dicas AutomÃ¡ticas

### GeraÃ§Ã£o de Dicas (Baseado em IA - Futuro)

```typescript
// server/jobs/generateDailyTips.ts

async function generateDailyTips(
  subscriptionId: number,
  resultLevel: string
) {
  const tips = [];
  
  for (let day = 1; day <= 30; day++) {
    const category = getTipCategoryForDay(day);
    
    // Usar LLM para gerar dica personalizada
    const tip = await invokeLLM({
      messages: [
        {
          role: "system",
          content: `VocÃª Ã© um conselheiro amoroso especializado. Gere uma dica diÃ¡ria para alguÃ©m com resultado "${resultLevel}" no dia ${day} do programa.`,
        },
        {
          role: "user",
          content: `Categoria: ${category}. Gere um JSON com: title, content, actionOfDay, reflection, motivation`,
        },
      ],
      response_format: {
        type: "json_schema",
        json_schema: {
          name: "daily_tip",
          schema: {
            type: "object",
            properties: {
              title: { type: "string" },
              content: { type: "string" },
              actionOfDay: { type: "string" },
              reflection: { type: "string" },
              motivation: { type: "string" },
            },
            required: ["title", "content", "actionOfDay", "reflection", "motivation"],
          },
        },
      },
    });

    tips.push({
      subscriptionId,
      dayNumber: day,
      category,
      ...JSON.parse(tip.choices[0].message.content),
    });
  }

  // Salvar todas as dicas no banco
  await db.createManyDailyTips(tips);
}
```

### Envio de Emails AutomÃ¡ticos

```typescript
// server/jobs/sendDailyTips.ts

async function sendDailyTips() {
  // Encontrar todas as assinaturas ativas
  const subscriptions = await db.getActiveSubscriptions();

  for (const subscription of subscriptions) {
    const dayNumber = calculateDayNumber(subscription.startDate);
    const tip = await db.getDailyTip(subscription.id, dayNumber);
    
    if (!tip) continue;

    // Enviar email via Mailchimp
    await subscribeToMailchimp(subscription.user.email, {
      firstName: subscription.user.name,
      tags: [subscription.resultLevel, `day_${dayNumber}`],
    });

    // Marcar como enviado
    await db.updateDailyTip(tip.id, { sentAt: new Date() });
  }
}

// Agendar para rodar todo dia Ã s 8:00 AM
schedule.scheduleJob('0 8 * * *', sendDailyTips);
```

---

## ðŸ’° MonetizaÃ§Ã£o & RetenÃ§Ã£o

### EstratÃ©gia de RetenÃ§Ã£o

| Fase | Dias | AÃ§Ã£o |
|------|------|------|
| Onboarding | 1-3 | Dicas motivacionais, build hype |
| Engajamento | 4-14 | Dicas acionÃ¡veis, histÃ³rias de sucesso |
| ConsolidaÃ§Ã£o | 15-25 | ReflexÃµes profundas, comunidade |
| RenovaÃ§Ã£o | 26-30 | Ofertas de renovaÃ§Ã£o, desconto |

### Churn Prevention

- **Dia 7**: Email "VocÃª estÃ¡ no caminho certo!"
- **Dia 14**: Oferta de desconto para renovaÃ§Ã£o
- **Dia 21**: Testimonial de sucesso similar
- **Dia 28**: "Ãšltimos dias - Renove agora com 50% off"

### Upsells Futuros

- ðŸŽ¥ VÃ­deo coaching (R$ 29,90/mÃªs)
- ðŸ‘¥ Comunidade premium (R$ 9,90/mÃªs)
- ðŸ“š Guias avanÃ§ados (R$ 19,90)
- ðŸŽ Pacote anual (R$ 149,90/ano - 15% off)

---

## ðŸ“Š MÃ©tricas para Acompanhar

```
Assinatura
â”œâ”€â”€ Conversion Rate (Pagamento â†’ Assinatura)
â”œâ”€â”€ Average Subscription Duration
â”œâ”€â”€ Churn Rate (Taxa de cancelamento)
â””â”€â”€ LTV (Lifetime Value)

Engajamento
â”œâ”€â”€ Daily Tip Open Rate
â”œâ”€â”€ Progress Update Frequency
â”œâ”€â”€ Dashboard Visits
â””â”€â”€ Time Spent

SatisfaÃ§Ã£o
â”œâ”€â”€ NPS (Net Promoter Score)
â”œâ”€â”€ Review Rating
â”œâ”€â”€ Renewal Rate
â””â”€â”€ Referral Rate
```

---

## ðŸŽ¯ PrÃ³ximos Passos para ImplementaÃ§Ã£o

### MVP (Semana 1-2)
- [ ] Tabelas do banco de dados
- [ ] tRPC procedures bÃ¡sicos
- [ ] Dashboard simples
- [ ] Envio de dicas por email

### V2 (Semana 3-4)
- [ ] IA para gerar dicas personalizadas
- [ ] Sistema de progresso do usuÃ¡rio
- [ ] Comunidade de usuÃ¡rios
- [ ] HistÃ³rias de sucesso

### V3 (MÃªs 2)
- [ ] Chat com especialista
- [ ] VÃ­deos de orientaÃ§Ã£o
- [ ] MeditaÃ§Ãµes guiadas
- [ ] AnÃ¡lise de compatibilidade

---

**VersÃ£o**: 1.0  
**Status**: ðŸ“‹ DocumentaÃ§Ã£o Completa - Pronto para ImplementaÃ§Ã£o
